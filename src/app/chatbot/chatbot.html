<article>
  <h2>Cyber Security AI Assistant</h2>
  <p>Ask me anything about digital security, online safety, or cybersecurity best practices.</p>
  
  <div class="chat-container" role="region" aria-label="Chat conversation">
    <div class="messages" role="log" aria-live="polite" aria-atomic="false">
      @for (message of messages(); track $index) {
        <div class="message" [class.user]="message.role === 'user'" [class.assistant]="message.role === 'assistant'">
          <strong>{{ message.role === 'user' ? 'You' : 'Assistant' }}:</strong>
          <p>{{ message.content }}</p>
        </div>
      }
      @if (isLoading()) {
        <div class="message assistant loading">
          <strong>Assistant:</strong>
          <p>Thinking...</p>
        </div>
      }
    </div>
    
    <form (ngSubmit)="sendMessage()" class="chat-input">
      <label for="user-message" class="visually-hidden">Your message</label>
      <input 
        id="user-message"
        type="text" 
        [(ngModel)]="userInput"
        placeholder="Type your question here..."
        [disabled]="isLoading()"
        aria-label="Message input"
        aria-describedby="chat-help"
      />
      <button 
        type="submit" 
        [disabled]="!userInput.trim() || isLoading()"
        aria-label="Send message"
      >
        Send
      </button>
    </form>
    <p id="chat-help" class="help-text">
      Note: This chatbot requires an OpenAI API key to be configured on the server.
    </p>
  </div>
</article>
